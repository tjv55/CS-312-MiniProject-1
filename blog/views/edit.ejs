<%- include('partials/header') %>

<div class="container mt-4">
  <h2 class="mb-3 text-purple">Edit Blog Post</h2>
  
  <form action="/edit/<%= post.id %>" method="POST" class="mb-3">
    <div class="mb-3">
      <label for="title" class="form-label text-light">Title</label>
      <input type="text" id="title" name="title" class="form-control" value="<%= post.title %>" required>
    </div>

    <div class="mb-3">
      <label for="author" class="form-label text-light">Author</label>
      <input type="text" id="author" name="author" class="form-control" value="<%= post.author %>" required>
    </div>

    <div class="mb-3">
      <label for="category" class="form-label text-light">Category</label>
      <select id="category" name="category" class="form-select" required>
        <option value="Tech" <%= post.category === 'Tech' ? 'selected' : '' %>>Tech</option>
        <option value="Lifestyle" <%= post.category === 'Lifestyle' ? 'selected' : '' %>>Lifestyle</option>
        <option value="Education" <%= post.category === 'Education' ? 'selected' : '' %>>Education</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="content" class="form-label text-light">Content</label>
      <textarea id="content" name="content" rows="8" class="form-control" required><%= post.content %></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
  </form>

  <form action="/delete/<%= post.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');" class="d-inline">
    <button type="submit" class="btn btn-danger">Delete Post</button>
  </form>

  <a href="/" class="btn btn-secondary ms-2">Cancel</a>
</div>

<%- include('partials/footer') %>